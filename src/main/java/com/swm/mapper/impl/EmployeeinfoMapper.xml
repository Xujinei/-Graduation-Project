<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.swm.mapper.EmployeeinfoMapper">
    <resultMap id="BaseResultMap" type="com.swm.entity.Employeeinfo">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Thu Jan 18 20:59:20 CST 2018.
        -->
        <id column="id" jdbcType="INTEGER" property="id"/>
        <result column="name" jdbcType="VARCHAR" property="name"/>
        <result column="sex" jdbcType="VARCHAR" property="sex"/>
        <result column="brithday" jdbcType="TIMESTAMP" property="brithday"/>
        <result column="telPhone" jdbcType="VARCHAR" property="telphone"/>
        <result column="email" jdbcType="VARCHAR" property="email"/>
        <result column="address" jdbcType="VARCHAR" property="address"/>
        <result column="identificationId" jdbcType="VARCHAR" property="identificationid"/>
        <result column="education" jdbcType="VARCHAR" property="education"/>
        <result column="school" jdbcType="VARCHAR" property="school"/>
        <result column="profession" jdbcType="VARCHAR" property="profession"/>
        <result column="politicalStatus" jdbcType="VARCHAR" property="politicalstatus"/>
        <result column="entryTime" jdbcType="TIMESTAMP" property="entrytime"/>
        <result column="expireDate" jdbcType="TIMESTAMP" property="expiredate"/>
        <result column="departmentId" jdbcType="INTEGER" property="departmentid"/>
        <result column="positionId" jdbcType="INTEGER" property="positionid"/>
        <result column="baseSalary" jdbcType="DOUBLE" property="basesalary"/>
        <result column="positionSalary" jdbcType="DOUBLE" property="positionsalary"/>
        <result column="hoursSalary" jdbcType="DOUBLE" property="hoursSalary"/>
        <result column="subsidy" jdbcType="DOUBLE" property="subsidy"/>
        <result column="insuranceStandard" jdbcType="INTEGER" property="insurancestandard"/>
        <result column="employeeStatus" jdbcType="INTEGER" property="employeestatus"/>
    </resultMap>

    <resultMap id="entityResultMap" type="com.swm.entity.EmployeeinfoEntity">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Thu Jan 18 20:59:20 CST 2018.
        -->
        <id column="id" jdbcType="INTEGER" property="id"/>
        <result column="name" jdbcType="VARCHAR" property="name"/>
        <result column="sex" jdbcType="VARCHAR" property="sex"/>
        <result column="brithday" jdbcType="TIMESTAMP" property="brithday"/>
        <result column="telPhone" jdbcType="VARCHAR" property="telphone"/>
        <result column="email" jdbcType="VARCHAR" property="email"/>
        <result column="address" jdbcType="VARCHAR" property="address"/>
        <result column="identificationId" jdbcType="VARCHAR" property="identificationid"/>
        <result column="education" jdbcType="VARCHAR" property="education"/>
        <result column="school" jdbcType="VARCHAR" property="school"/>
        <result column="profession" jdbcType="VARCHAR" property="profession"/>
        <result column="politicalStatus" jdbcType="VARCHAR" property="politicalstatus"/>
        <result column="entryTime" jdbcType="TIMESTAMP" property="entrytime"/>
        <result column="expireDate" jdbcType="TIMESTAMP" property="expiredate"/>
        <result column="baseSalary" jdbcType="DOUBLE" property="basesalary"/>
        <result column="positionSalary" jdbcType="DOUBLE" property="positionsalary"/>
        <result column="subsidy" jdbcType="DOUBLE" property="subsidy"/>

        <result column="employeeStatus" jdbcType="INTEGER" property="employeestatus"/>

        <!--一对一映射-->
        <association property="department" column="departmentId"
                     select="com.swm.mapper.DepartmentMapper.selectByPrimaryKey"/>
        <association property="position" column="positionId"
                     select="com.swm.mapper.PositionMapper.selectByPrimaryKey"/>
        <association property="insurancestandard" column="insuranceStandard"
                     select="com.swm.mapper.InsurancestandardMapper.selectByPrimaryKey"/>
    </resultMap>

    <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Thu Jan 18 20:59:20 CST 2018.
        -->
        delete from employeeinfo
        where id = #{id,jdbcType=INTEGER}
    </delete>
    <insert id="insert" parameterType="com.swm.entity.Employeeinfo">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Thu Jan 18 20:59:20 CST 2018.
        -->
        <selectKey keyProperty="id" order="BEFORE" resultType="java.lang.Integer">
            SELECT LAST_INSERT_ID()
        </selectKey>
        insert into employeeinfo ( name, sex,
        brithday, telPhone, email,
        address, identificationId, education,
        school, profession, politicalStatus,
        entryTime, expireDate, departmentId,
        positionId, baseSalary, positionSalary,
        subsidy, insuranceStandard, employeeStatus,hoursSalary
        )
        values (#{name,jdbcType=VARCHAR}, #{sex,jdbcType=VARCHAR},
        #{brithday,jdbcType=TIMESTAMP}, #{telphone,jdbcType=VARCHAR}, #{email,jdbcType=VARCHAR},
        #{address,jdbcType=VARCHAR}, #{identificationid,jdbcType=VARCHAR}, #{education,jdbcType=VARCHAR},
        #{school,jdbcType=VARCHAR}, #{profession,jdbcType=VARCHAR}, #{politicalstatus,jdbcType=VARCHAR},
        #{entrytime,jdbcType=TIMESTAMP}, #{expiredate,jdbcType=TIMESTAMP}, #{departmentid,jdbcType=INTEGER},
        #{positionid,jdbcType=INTEGER}, #{basesalary,jdbcType=DOUBLE}, #{positionsalary,jdbcType=DOUBLE},
        #{subsidy,jdbcType=DOUBLE}, #{insurancestandard,jdbcType=INTEGER},
        #{employeestatus,jdbcType=INTEGER},#{hoursSalary,jdbcType=DOUBLE}
        )
    </insert>
    <update id="updateByPrimaryKey" parameterType="com.swm.entity.Employeeinfo">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Thu Jan 18 20:59:20 CST 2018.
        -->
        update employeeinfo
        set name = #{name,jdbcType=VARCHAR},
        sex = #{sex,jdbcType=VARCHAR},
        brithday = #{brithday,jdbcType=TIMESTAMP},
        telPhone = #{telphone,jdbcType=VARCHAR},
        email = #{email,jdbcType=VARCHAR},
        address = #{address,jdbcType=VARCHAR},
        identificationId = #{identificationid,jdbcType=VARCHAR},
        education = #{education,jdbcType=VARCHAR},
        school = #{school,jdbcType=VARCHAR},
        profession = #{profession,jdbcType=VARCHAR},
        politicalStatus = #{politicalstatus,jdbcType=VARCHAR},
        entryTime = #{entrytime,jdbcType=TIMESTAMP},
        expireDate = #{expiredate,jdbcType=TIMESTAMP},
        departmentId = #{departmentid,jdbcType=INTEGER},
        positionId = #{positionid,jdbcType=INTEGER},
        baseSalary = #{basesalary,jdbcType=DOUBLE},
        positionSalary = #{positionsalary,jdbcType=DOUBLE},
        subsidy = #{subsidy,jdbcType=DOUBLE},
        insuranceStandard = #{insurancestandard,jdbcType=INTEGER},
        employeeStatus = #{employeestatus,jdbcType=INTEGER},
        hoursSalary = #{hoursSalary,jdbcType=DOUBLE}
        where id = #{id,jdbcType=INTEGER}
    </update>
    <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Thu Jan 18 20:59:20 CST 2018.
        -->
        select id, name, sex, brithday, telPhone, email, address, identificationId, education,
        school, profession, politicalStatus, entryTime, expireDate, departmentId, positionId,
        baseSalary, positionSalary, subsidy, insuranceStandard, employeeStatus ,hoursSalary
        from employeeinfo
        where id = #{id,jdbcType=INTEGER}
    </select>
    <select id="getEmployeeEntityById" parameterType="java.lang.Integer" resultMap="entityResultMap">
        select id, name, sex, brithday, telPhone, email, address, identificationId, education,
        school, profession, politicalStatus, entryTime, expireDate, departmentId, positionId,
        baseSalary, positionSalary, subsidy, insuranceStandard, employeeStatus ,hoursSalary
        from employeeinfo
        where id = #{id,jdbcType=INTEGER}
    </select>


    <select id="selectAll" resultMap="BaseResultMap">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Thu Jan 18 20:59:20 CST 2018.
        -->
        select id, name, sex, brithday, telPhone, email, address, identificationId, education,
        school, profession, politicalStatus, entryTime, expireDate, departmentId, positionId,
        baseSalary, positionSalary, subsidy, insuranceStandard, employeeStatus ,hoursSalary
        from employeeinfo
    </select>


    <select id="selectByPage" resultMap="BaseResultMap">
        select id, name, sex, brithday, telPhone, email, address, identificationId, education,
        school, profession, politicalStatus, entryTime, expireDate, departmentId, positionId,
        baseSalary, positionSalary, subsidy, insuranceStandard, employeeStatus, hoursSalary
        from employeeinfo
        <if test="pageIndex!=null and pageSize!=null">
            limit #{pageIndex},#{pageSize}
        </if>
    </select>

    <select id="selectEntityByPage" resultMap="entityResultMap">
        select id, name, sex, brithday, telPhone, email, address, identificationId, education,
        school, profession, politicalStatus, entryTime, expireDate, departmentId, positionId,
        baseSalary, positionSalary, subsidy, insuranceStandard, employeeStatus, hoursSalary
        from employeeinfo
        <if test="pageIndex!=null and pageSize!=null">
            limit #{pageIndex},#{pageSize}
        </if>
    </select>

    <select id="selectEntityByPageAndOther" resultMap="entityResultMap">
        select id, name, sex, brithday, telPhone, email, address, identificationId, education,
        school, profession, politicalStatus, entryTime, expireDate, departmentId, positionId,
        baseSalary, positionSalary, subsidy, insuranceStandard, employeeStatus ,hoursSalary
        from employeeinfo
        <if test="employeeinfo!=null">
            <where>
                <if test="employeeinfo.name!=null">
                    and name=#{employeeinfo.name}
                </if>
                <if test="employeeinfo.departmentid!=null">
                    and departmentId=#{employeeinfo.departmentid}
                </if>
                <if test="employeeinfo.positionid!=null">
                    and positionId=#{employeeinfo.positionid}
                </if>
            </where>
        </if>
        <if test="pageIndex!=null and pageSize!=null">
            limit #{pageIndex},#{pageSize}
        </if>
    </select>


    <select id="selectBySearch" resultMap="entityResultMap">
        select id, name, sex, brithday, telPhone, email, address, identificationId, education,
        school, profession, politicalStatus, entryTime, expireDate, departmentId, positionId,
        baseSalary, positionSalary, subsidy, insuranceStandard, employeeStatus ,hoursSalary
        from employeeinfo
        <if test="employeeinfo!=null">
            <where>
                <if test="employeeinfo.name!=null">
                    name=#{employeeinfo.name}
                </if>
                <if test="employeeinfo.departmentid!=null">
                    and departmentId=#{employeeinfo.departmentid}
                </if>
                <if test="employeeinfo.positionid!=null">
                    and positionId=#{employeeinfo.positionid}
                </if>
            </where>
        </if>
    </select>


    <select id="countAll" resultType="int">
        select count(*) from employeeinfo
    </select>

    <select id="countAllByKey" resultType="int">
        select count(*) from employeeinfo
        <if test="employeeinfo!=null">
            <where>
                <if test="employeeinfo.name!=null">
                    name=#{employeeinfo.name}
                </if>
                <if test="employeeinfo.departmentid!=null">
                    and departmentId=#{employeeinfo.departmentid}
                </if>
                <if test="employeeinfo.positionid!=null">
                    and positionId=#{employeeinfo.positionid}
                </if>
            </where>
        </if>
    </select>


    <select id="selectNoAccount" resultMap="BaseResultMap">
        select id, name, sex, brithday, telPhone, email, address, identificationId, education,
        school, profession, politicalStatus, entryTime, expireDate, departmentId, positionId,
        baseSalary, positionSalary, subsidy, insuranceStandard, employeeStatus ,hoursSalary
        from employeeinfo
        where id not in (
          select employeeId from account
        )
    </select>

</mapper>